{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tejas\\\\Downloads\\\\project test\\\\LifeFlow\\\\client\\\\src\\\\components\\\\shared\\\\Routes\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../../services/API\";\nimport { getcurrentUser } from \"../../../redux/features/auth/authActions\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProtectedRoute({\n  children\n}) {\n  _s();\n  const dispatch = useDispatch();\n  const getUser = async () => {\n    try {\n      const {\n        data\n      } = await API.get(\"/auth/currentuser\");\n      if (data !== null && data !== void 0 && data.success) {\n        dispatch(getcurrentUser(data));\n      }\n    } catch (error) {\n      localStorage.clear();\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getUser();\n  });\n  if (localStorage.getItem(\"token\")) {\n    return children;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n}\n_s(ProtectedRoute, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","useEffect","useDispatch","API","getcurrentUser","Navigate","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","dispatch","getUser","data","get","success","error","localStorage","clear","console","log","getItem","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Tejas/Downloads/project test/LifeFlow/client/src/components/shared/Routes/ProtectedRoute.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport API from \"../../../services/API\";\r\nimport { getcurrentUser } from \"../../../redux/features/auth/authActions\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ children }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const getUser = async () => {\r\n    try {\r\n      const { data } = await API.get(\"/auth/currentuser\");\r\n      if (data?.success) {\r\n        dispatch(getcurrentUser(data));\r\n      }\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  });\r\n\r\n  if (localStorage.getItem(\"token\")) {\r\n    return children;\r\n  } else {\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n}\r\nexport default ProtectedRoute;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,GAAG,MAAM,uBAAuB;AACvC,SAASC,cAAc,QAAQ,0CAA0C;AACzE,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,cAAcA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9B,MAAMU,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMV,GAAG,CAACW,GAAG,CAAC,mBAAmB,CAAC;MACnD,IAAID,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,OAAO,EAAE;QACjBJ,QAAQ,CAACP,cAAc,CAACS,IAAI,CAAC,CAAC;MAChC;IACF,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,YAAY,CAACC,KAAK,CAAC,CAAC;MACpBC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF,CAAC;EAEDf,SAAS,CAAC,MAAM;IACdW,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EAEF,IAAIK,YAAY,CAACI,OAAO,CAAC,OAAO,CAAC,EAAE;IACjC,OAAOZ,QAAQ;EACjB,CAAC,MAAM;IACL,oBAAOF,OAAA,CAACF,QAAQ;MAACiB,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjC;AACF;AAAChB,EAAA,CAxBQF,cAAc;EAAA,QACJN,WAAW;AAAA;AAAAyB,EAAA,GADrBnB,cAAc;AAyBvB,eAAeA,cAAc;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}